# Raytracer P1

Это первая подзадача [домашнего задания про рейтрейсер](../raytracer). В рамках этой задачи вам нужно реализовать все необходимые геометрические примитивы, которые нужны в рейтрейсере.

Для начала закончите определения основных объектов в `vector.h`, `ray.h`, `sphere.h`, `triangle.h` и `intersection.h`.
Ключевым объектом здесь является 3d-вектор, обратите внимание, что для его хранения используется `std:array`.
Создание `std::array` практически бесплатно по сравнению с `std::vector`, а в рейтрейсере нужно создавать много векторов, поэтому важно использовать именно этот контейнер во избежание сильного падения производительности.
Вы можете также определить любые другие функции и операторы для своего удобства при реализации рейтрейсера, например разумно определить дополнительные арифметические операторы для работы с векторами.
Также требуется, чтобы методы `Intersection::GetNormal` и `Ray::GetDirection`
возвращали нормированные вектора.

После этого реализуйте следующие функции в `geometry.h`:

* `GetIntersection`, находящую пересечение луча и сферы или луча и треугольника. Считайте, что треугольник невырожденный.
* `Reflect(ray, normal)`, считающую отраженный от `ray` луч в точке, нормаль к поверхности в которой равна `normal`.
* `Refract(ray, normal, eta)`, считающую преломленный к `ray` луч (если есть). Здесь `normal` --- это нормаль в точке, где луч переходит в другую среду, а `eta` равна $`\frac{n_1}{n_2}`$, где $`n_1, n_2`$ --- показатели преломления среды, из которой идет луч, и среды, в которую он идет соответственно. В функциях `Reflect` и `Refract` можете считать, что луч и вектор нормали нормированы, а нормаль ориентирована в противоположную к лучу сторону.
* `GetBarycentricCoords`, вычисляющую барицентрические координаты точки относительно заданного треугольника (гарантируется, что точка лежит внутри или на границе треугольника).

## Полезные материалы

* Пересечение луча и треугольника можно делать по этому алгоритму: https://en.wikipedia.org/wiki/M%C3%B6ller%E2%80%93Trumbore_intersection_algorithm
* Формулы для вычисления отраженного и преломленного луча приведены здесь: https://en.wikipedia.org/wiki/Snell%27s_law#Vector_form
